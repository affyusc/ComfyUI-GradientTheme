const _0x230453=_0x2f7d;(function(_0x1e54df,_0x2123ac){const _0x55d969=_0x2f7d,_0xa2f22b=_0x1e54df();while(!![]){try{const _0x23e3ac=-parseInt(_0x55d969(0x1e9))/0x1+-parseInt(_0x55d969(0x1b6))/0x2+parseInt(_0x55d969(0x20d))/0x3+parseInt(_0x55d969(0x1e1))/0x4*(parseInt(_0x55d969(0x1fc))/0x5)+-parseInt(_0x55d969(0x1c2))/0x6*(parseInt(_0x55d969(0x1cd))/0x7)+-parseInt(_0x55d969(0x188))/0x8+parseInt(_0x55d969(0x1e2))/0x9;if(_0x23e3ac===_0x2123ac)break;else _0xa2f22b['push'](_0xa2f22b['shift']());}catch(_0x5cbb3a){_0xa2f22b['push'](_0xa2f22b['shift']());}}}(_0x233b,0xbed05));import{app}from'../../scripts/app.js';function addGradientColorOption(){const _0x355812=_0x2f7d;if(!window[_0x355812(0x1fb)]||!window['LGraphCanvas'][_0x355812(0x1cf)]){console[_0x355812(0x1f8)](_0x355812(0x21b));return;}const _0x1abb1a=LGraphCanvas[_0x355812(0x1cf)][_0x355812(0x217)];if(typeof _0x1abb1a!==_0x355812(0x1dd)){console[_0x355812(0x1f8)](_0x355812(0x216));return;}LGraphCanvas['prototype'][_0x355812(0x217)]=function(_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0){const _0x36e333=_0x355812;if(!_0x2f02ca||!_0xb200cc||!_0x4c4aff)return console[_0x36e333(0x18b)](_0x36e333(0x19c)),_0x1abb1a[_0x36e333(0x1da)](this,_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0);try{if(_0x2f02ca['gradientColors']&&Array[_0x36e333(0x1f9)](_0x2f02ca[_0x36e333(0x1fe)])&&_0x2f02ca[_0x36e333(0x1fe)]['length']>0x0){const _0x1161b5=_0x2f02ca['gradientColors'][_0x36e333(0x18c)](0x0,-0x1),_0x191033=_0x2f02ca[_0x36e333(0x1fe)][_0x2f02ca[_0x36e333(0x1fe)][_0x36e333(0x193)]-0x1],_0x21b61f=window['LiteGraph']&&LiteGraph[_0x36e333(0x212)]||0x1e,_0x1d398b=_0x4c4aff[0x1]+_0x21b61f,_0x477fac=typeof _0x2f02ca[_0x36e333(0x1a3)]===_0x36e333(0x1c1)?Math['min'](_0x2f02ca[_0x36e333(0x1a3)],Math[_0x36e333(0x1fa)](_0x4c4aff[0x0]/0x2,_0x4c4aff[0x1]/0x2)):0x0;_0xb200cc[_0x36e333(0x209)](),_0xb200cc[_0x36e333(0x1af)](0x0,-_0x21b61f);let _0x474fed;try{switch(_0x191033){case _0x36e333(0x202):_0x474fed=_0xb200cc[_0x36e333(0x19d)](0x0,0x0,_0x4c4aff[0x0],0x0);break;case _0x36e333(0x1e7):_0x474fed=_0xb200cc[_0x36e333(0x19d)](_0x4c4aff[0x0],0x0,0x0,0x0);break;case'to\x20bottom':_0x474fed=_0xb200cc[_0x36e333(0x19d)](0x0,0x0,0x0,_0x1d398b);break;case _0x36e333(0x210):_0x474fed=_0xb200cc['createLinearGradient'](0x0,_0x1d398b,0x0,0x0);break;case _0x36e333(0x1c5):_0x474fed=_0xb200cc[_0x36e333(0x19d)](0x0,0x0,_0x4c4aff[0x0],_0x1d398b);break;case _0x36e333(0x1c8):_0x474fed=_0xb200cc['createLinearGradient'](_0x4c4aff[0x0],0x0,0x0,_0x1d398b);break;case'to\x20top\x20right':_0x474fed=_0xb200cc[_0x36e333(0x19d)](0x0,_0x1d398b,_0x4c4aff[0x0],0x0);break;case _0x36e333(0x218):_0x474fed=_0xb200cc[_0x36e333(0x19d)](_0x4c4aff[0x0],_0x1d398b,0x0,0x0);break;default:_0x474fed=_0xb200cc[_0x36e333(0x19d)](0x0,0x0,0x0,_0x1d398b);}_0x1161b5['forEach']((_0x49b17b,_0x1c3845)=>{const _0x517d5c=_0x36e333;_0x49b17b&&typeof _0x49b17b===_0x517d5c(0x1f7)&&_0x474fed['addColorStop'](_0x1c3845/(_0x1161b5[_0x517d5c(0x193)]-0x1),_0x49b17b);}),_0xb200cc[_0x36e333(0x1f2)]=_0x474fed,_0xb200cc['beginPath']();if(_0x477fac>0x0){const _0x2fd84e=_0x477fac;_0xb200cc[_0x36e333(0x19f)](),_0xb200cc[_0x36e333(0x207)](_0x2fd84e,_0x2fd84e,_0x2fd84e,Math['PI'],1.5*Math['PI']),_0xb200cc[_0x36e333(0x213)](_0x4c4aff[0x0]-_0x2fd84e,0x0),_0xb200cc[_0x36e333(0x207)](_0x4c4aff[0x0]-_0x2fd84e,_0x2fd84e,_0x2fd84e,1.5*Math['PI'],0x0),_0xb200cc[_0x36e333(0x213)](_0x4c4aff[0x0],_0x1d398b-_0x2fd84e),_0xb200cc[_0x36e333(0x207)](_0x4c4aff[0x0]-_0x2fd84e,_0x1d398b-_0x2fd84e,_0x2fd84e,0x0,0.5*Math['PI']),_0xb200cc[_0x36e333(0x213)](_0x2fd84e,_0x1d398b),_0xb200cc[_0x36e333(0x207)](_0x2fd84e,_0x1d398b-_0x2fd84e,_0x2fd84e,0.5*Math['PI'],Math['PI']),_0xb200cc[_0x36e333(0x213)](0x0,_0x2fd84e),_0xb200cc[_0x36e333(0x1d7)]();}else _0xb200cc[_0x36e333(0x1ca)](0x0,0x0,_0x4c4aff[0x0],_0x1d398b);_0xb200cc[_0x36e333(0x1d6)]();(_0x41d4e3||_0x53f7a0)&&(_0xb200cc[_0x36e333(0x1d4)]=_0x41d4e3?_0x36e333(0x203):_0x36e333(0x1b9),_0xb200cc['lineWidth']=1.5,_0xb200cc[_0x36e333(0x201)]());_0x2f02ca[_0x36e333(0x1ee)]&&(_0xb200cc['fillStyle']=_0x2f02ca[_0x36e333(0x208)]||_0x36e333(0x203),_0xb200cc[_0x36e333(0x17d)]=_0x36e333(0x1be)+(_0x2f02ca['fontSize']||0xe)+'px\x20Arial',_0xb200cc[_0x36e333(0x1f6)]='center',_0xb200cc[_0x36e333(0x1c0)](_0x2f02ca[_0x36e333(0x1ee)],_0x4c4aff[0x0]/0x2,_0x21b61f/0x2));_0xb200cc[_0x36e333(0x219)]();const _0x278738=_0x3ae846;_0x3ae846='transparent',_0xb200cc[_0x36e333(0x209)](),_0x1abb1a[_0x36e333(0x1da)](this,_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0),_0xb200cc['restore'](),_0x3ae846=_0x278738;}catch(_0xfa952d){return console['warn'](_0x36e333(0x18a),_0xfa952d),_0xb200cc[_0x36e333(0x219)](),_0x1abb1a[_0x36e333(0x1da)](this,_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0);}}else return _0x1abb1a[_0x36e333(0x1da)](this,_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0);}catch(_0x1d046a){return console[_0x36e333(0x18b)]('Error\x20in\x20drawNodeShape:',_0x1d046a),_0x1abb1a[_0x36e333(0x1da)](this,_0x2f02ca,_0xb200cc,_0x4c4aff,_0x225474,_0x3ae846,_0x41d4e3,_0x53f7a0);}};}function showGradientColorDialog(){const _0x30066a=_0x2f7d,_0x4adf9b=document[_0x30066a(0x18d)](_0x30066a(0x1f0));_0x4adf9b[_0x30066a(0x1a2)]='\x0a\x20\x20\x20\x20<h3>设置节点渐变色</h3>\x0a\x20\x20\x20\x20<div\x20class=\x22gradient-settings\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22setting-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22colorCount\x22>渐变颜色数量:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22colorCount\x22\x20min=\x222\x22\x20max=\x228\x22\x20value=\x222\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>8</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value-display\x22>当前:\x20<span\x20id=\x22colorCountValue\x22>2</span></span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22colorInputs\x22\x20class=\x22color-inputs\x22></div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22setting-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22gradientDirection\x22>渐变方向:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22gradientDirection\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20right\x22>从左到右</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20left\x22>从右到左</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20bottom\x22>从上到下</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20top\x22>从下到上</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20bottom\x20right\x22>左上到右下</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20bottom\x20left\x22>右上到左下</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20top\x20right\x22>左下到右上</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22to\x20top\x20left\x22>右下到左上</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22setting-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22borderRadius\x22>倒角半径:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22borderRadius\x22\x20min=\x220\x22\x20max=\x22200\x22\x20value=\x220\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value-display\x22>当前:\x20<span\x20id=\x22borderRadiusValue\x22>0</span>px</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22setting-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fontColor\x22>字体颜色:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22fontColor\x22\x20value=\x22#ffffff\x22>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22setting-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22fontSize\x22>字体大小:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22slider-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>10</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20id=\x22fontSize\x22\x20min=\x2210\x22\x20max=\x22200\x22\x20value=\x2214\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22value-display\x22>当前:\x20<span\x20id=\x22fontSizeValue\x22>14</span>px</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<button\x20id=\x22applyGradient\x22>应用</button>\x0a\x20\x20',_0x4adf9b['style']['position']=_0x30066a(0x1a5),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1cb)]=_0x30066a(0x17f),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x215)]=_0x30066a(0x1db),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1c9)]=_0x30066a(0x1db),_0x4adf9b[_0x30066a(0x211)]['transform']=_0x30066a(0x1bb),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1e5)]=_0x30066a(0x1de),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x195)]=_0x30066a(0x203),_0x4adf9b['style'][_0x30066a(0x19a)]='20px',_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1a3)]='10px',_0x4adf9b['style']['boxShadow']='0\x204px\x206px\x20rgba(0,\x200,\x200,\x200.3)',_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1a7)]=_0x30066a(0x190),_0x4adf9b[_0x30066a(0x211)][_0x30066a(0x1ed)]='300px',_0x4adf9b['style'][_0x30066a(0x183)]=_0x30066a(0x1d9),_0x4adf9b['style']['overflowY']=_0x30066a(0x1b2);const _0x2ddb43=document['createElement'](_0x30066a(0x211));_0x2ddb43[_0x30066a(0x1b5)]=_0x30066a(0x206),_0x4adf9b[_0x30066a(0x19e)](_0x2ddb43),document['body'][_0x30066a(0x19e)](_0x4adf9b);const _0x4ae1ee=_0x4adf9b[_0x30066a(0x1a6)](_0x30066a(0x181)),_0x53f14e=_0x4adf9b[_0x30066a(0x1a6)](_0x30066a(0x1e6)),_0x33d013=_0x4adf9b[_0x30066a(0x1a6)]('#colorInputs'),_0x84d50d=_0x4adf9b['querySelector'](_0x30066a(0x1eb)),_0x4d36a4=_0x4adf9b[_0x30066a(0x1a6)](_0x30066a(0x1bc)),_0x33d168=_0x4adf9b[_0x30066a(0x1a6)]('#gradientDirection'),_0x1c9d34=_0x4adf9b[_0x30066a(0x1a6)](_0x30066a(0x20e)),_0x13b910=_0x4adf9b[_0x30066a(0x1a6)]('#fontSize'),_0x50e8f7=_0x4adf9b[_0x30066a(0x1a6)](_0x30066a(0x1a0));_0x4ae1ee[_0x30066a(0x21a)](_0x30066a(0x1a8),()=>{const _0x3f80d4=_0x30066a,_0x3758ef=parseInt(_0x4ae1ee[_0x3f80d4(0x1d5)]);_0x53f14e[_0x3f80d4(0x1b5)]=_0x3758ef,_0x436f78(_0x3758ef),_0x389cc8();});function _0x436f78(_0x1c469a){const _0x11ee3c=_0x30066a;_0x33d013['innerHTML']='';for(let _0x194448=0x1;_0x194448<=_0x1c469a;_0x194448++){const _0x122850=document[_0x11ee3c(0x18d)]('div');_0x122850[_0x11ee3c(0x1d8)]=_0x11ee3c(0x1dc),_0x122850[_0x11ee3c(0x1a2)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22color'+_0x194448+_0x11ee3c(0x1c6)+_0x194448+_0x11ee3c(0x1a1)+_0x194448+_0x11ee3c(0x1b0)+_0x3b9c04()+_0x11ee3c(0x1f1),_0x33d013[_0x11ee3c(0x19e)](_0x122850);}_0x33d013[_0x11ee3c(0x1ab)](_0x11ee3c(0x1b7))['forEach'](_0x369e2f=>{const _0xb131e7=_0x11ee3c;_0x369e2f[_0xb131e7(0x21a)]('input',_0x389cc8);});}function _0x3b9c04(){const _0x2989c7=_0x30066a;return'#'+Math[_0x2989c7(0x1a4)](Math[_0x2989c7(0x180)]()*0xffffff)[_0x2989c7(0x1ce)](0x10)[_0x2989c7(0x185)](0x6,'0');}_0x84d50d[_0x30066a(0x21a)](_0x30066a(0x1a8),()=>{_0x4d36a4['textContent']=_0x84d50d['value'],_0x389cc8();}),_0x33d168['addEventListener'](_0x30066a(0x1a9),_0x389cc8),_0x1c9d34['addEventListener']('input',_0x389cc8),_0x13b910[_0x30066a(0x21a)](_0x30066a(0x1a8),()=>{const _0x465f3a=_0x30066a;_0x50e8f7[_0x465f3a(0x1b5)]=_0x13b910[_0x465f3a(0x1d5)],_0x389cc8();});function _0x389cc8(){const _0x577287=_0x30066a;try{const _0x8ec0f3=Array['from'](_0x4adf9b[_0x577287(0x1ab)]('#colorInputs\x20input[type=color]'))[_0x577287(0x1f3)](_0x2502d9=>_0x2502d9[_0x577287(0x1d5)]),_0x537727=_0x33d168[_0x577287(0x1d5)],_0x71e66c=parseInt(_0x84d50d[_0x577287(0x1d5)]),_0x3b2bf0=_0x1c9d34[_0x577287(0x1d5)],_0x11dd8a=parseInt(_0x13b910[_0x577287(0x1d5)]);app[_0x577287(0x20b)]&&app['graph'][_0x577287(0x1ef)]&&(app[_0x577287(0x20b)][_0x577287(0x1ef)][_0x577287(0x17a)](_0x3b74a3=>{_0x3b74a3&&applyGradientToNode(_0x3b74a3,_0x8ec0f3,_0x537727,_0x71e66c,_0x3b2bf0,_0x11dd8a);}),saveGradientSettingsToWorkflow(),app[_0x577287(0x20b)][_0x577287(0x20a)](!![],!![]));}catch(_0x2b7108){console[_0x577287(0x18b)](_0x577287(0x214),_0x2b7108);}}const _0x56075c=_0x4adf9b[_0x30066a(0x1a6)]('#applyGradient');_0x56075c['addEventListener'](_0x30066a(0x191),()=>{const _0x5c8ad7=_0x30066a;_0x389cc8(),document[_0x5c8ad7(0x17e)][_0x5c8ad7(0x1d3)](_0x4adf9b);}),_0x436f78(0x2);}function _0x2f7d(_0x2f01f6,_0x451197){const _0x233b39=_0x233b();return _0x2f7d=function(_0x2f7d3d,_0x37757e){_0x2f7d3d=_0x2f7d3d-0x17a;let _0x4d8458=_0x233b39[_0x2f7d3d];return _0x4d8458;},_0x2f7d(_0x2f01f6,_0x451197);}function applyGradientToNode(_0x16bb66,_0x161c35,_0x2092fd,_0x18037a,_0xa2b821,_0x371003){const _0x33e98e=_0x2f7d;try{_0x16bb66&&(_0x16bb66[_0x33e98e(0x1fe)]=[..._0x161c35,_0x2092fd],_0x16bb66[_0x33e98e(0x1a3)]=_0x18037a,_0x16bb66[_0x33e98e(0x208)]=_0xa2b821,_0x16bb66[_0x33e98e(0x194)]=_0x371003);}catch(_0x31f071){console[_0x33e98e(0x18b)](_0x33e98e(0x1bf),_0x31f071);}}function saveGradientSettingsToWorkflow(){const _0x3b3205=_0x2f7d;try{if(!app[_0x3b3205(0x20b)])return;!app[_0x3b3205(0x20b)][_0x3b3205(0x205)]&&(app[_0x3b3205(0x20b)][_0x3b3205(0x205)]={}),app['graph']['nodes']&&app[_0x3b3205(0x20b)][_0x3b3205(0x1ef)][_0x3b3205(0x193)]>0x0&&app['graph']['nodes'][0x0][_0x3b3205(0x1fe)]&&(app['graph'][_0x3b3205(0x205)][_0x3b3205(0x200)]={'gradientColors':app[_0x3b3205(0x20b)][_0x3b3205(0x1ef)][0x0][_0x3b3205(0x1fe)],'borderRadius':app[_0x3b3205(0x20b)][_0x3b3205(0x1ef)][0x0][_0x3b3205(0x1a3)],'fontColor':app[_0x3b3205(0x20b)]['nodes'][0x0][_0x3b3205(0x208)],'fontSize':app['graph'][_0x3b3205(0x1ef)][0x0][_0x3b3205(0x194)]});}catch(_0x2996d7){console[_0x3b3205(0x18b)](_0x3b3205(0x189),_0x2996d7);}}function loadGradientSettingsFromWorkflow(){const _0x16b509=_0x2f7d;try{if(!app[_0x16b509(0x20b)]||!app[_0x16b509(0x20b)][_0x16b509(0x205)]||!app[_0x16b509(0x20b)][_0x16b509(0x205)][_0x16b509(0x200)])return;const _0x513c9b=app[_0x16b509(0x20b)][_0x16b509(0x205)][_0x16b509(0x200)];if(!_0x513c9b)return;app[_0x16b509(0x20b)]['nodes']&&app[_0x16b509(0x20b)][_0x16b509(0x1ef)][_0x16b509(0x17a)](_0x4686a5=>{const _0x26011d=_0x16b509;_0x4686a5&&applyGradientToNode(_0x4686a5,_0x513c9b[_0x26011d(0x1fe)][_0x26011d(0x18c)](0x0,-0x1),_0x513c9b[_0x26011d(0x1fe)][_0x513c9b[_0x26011d(0x1fe)][_0x26011d(0x193)]-0x1],_0x513c9b[_0x26011d(0x1a3)],_0x513c9b[_0x26011d(0x208)],_0x513c9b[_0x26011d(0x194)]);});}catch(_0x3b4d46){console[_0x16b509(0x18b)](_0x16b509(0x1e3),_0x3b4d46);}}function applyGradientSettingsToAllNodes(){const _0x4af9b4=_0x2f7d;try{loadGradientSettingsFromWorkflow(),app[_0x4af9b4(0x20b)]&&app['graph'][_0x4af9b4(0x20a)](!![],!![]);}catch(_0x3595db){console[_0x4af9b4(0x18b)](_0x4af9b4(0x20f),_0x3595db);}}function removeGradientFromAllNodes(){const _0x40f18c=_0x2f7d;try{if(!app[_0x40f18c(0x20b)]||!app[_0x40f18c(0x20b)]['nodes'])return;app['graph'][_0x40f18c(0x1ef)][_0x40f18c(0x17a)](_0x1d03f3=>{const _0x2490e1=_0x40f18c;_0x1d03f3&&(delete _0x1d03f3[_0x2490e1(0x1fe)],delete _0x1d03f3[_0x2490e1(0x1a3)],delete _0x1d03f3[_0x2490e1(0x208)],delete _0x1d03f3[_0x2490e1(0x194)]);}),app[_0x40f18c(0x20b)][_0x40f18c(0x205)]&&delete app[_0x40f18c(0x20b)][_0x40f18c(0x205)][_0x40f18c(0x200)],app[_0x40f18c(0x20b)][_0x40f18c(0x20a)](!![],!![]);}catch(_0x41fb30){console['warn']('Error\x20removing\x20gradients:',_0x41fb30);}}function addDraggableButton(){const _0x2c0751=_0x2f7d,_0x4a1cae=document[_0x2c0751(0x18d)]('div');_0x4a1cae['className']=_0x2c0751(0x1e8);const _0x50002a=document[_0x2c0751(0x18d)](_0x2c0751(0x1f0));_0x50002a[_0x2c0751(0x1a2)]='🐵',_0x50002a['className']=_0x2c0751(0x1ec);const _0x124b91=document[_0x2c0751(0x18d)]('div');_0x124b91[_0x2c0751(0x1a2)]='❌',_0x124b91[_0x2c0751(0x1d8)]=_0x2c0751(0x1ae),_0x4a1cae['appendChild'](_0x50002a),_0x4a1cae[_0x2c0751(0x19e)](_0x124b91);const _0x41c630=document[_0x2c0751(0x18d)](_0x2c0751(0x211));_0x41c630[_0x2c0751(0x1b5)]=_0x2c0751(0x1b1),document[_0x2c0751(0x1d1)][_0x2c0751(0x19e)](_0x41c630);let _0x3de912=![],_0x405f4c,_0x43e256;_0x4a1cae['addEventListener'](_0x2c0751(0x1e4),_0x4ac710=>{const _0x34411b=_0x2c0751;_0x3de912=!![],_0x405f4c=_0x4ac710[_0x34411b(0x1f5)]-_0x4a1cae[_0x34411b(0x1c4)],_0x43e256=_0x4ac710['clientY']-_0x4a1cae[_0x34411b(0x1c3)],_0x4ac710[_0x34411b(0x1b3)](),_0x4ac710[_0x34411b(0x1d2)]();}),document[_0x2c0751(0x21a)](_0x2c0751(0x1ad),_0x9ca393=>{const _0x2b39af=_0x2c0751;if(_0x3de912){const _0x572aff=_0x9ca393[_0x2b39af(0x1f5)]-_0x405f4c,_0xaddf15=_0x9ca393[_0x2b39af(0x1ba)]-_0x43e256,_0x5b3dfd=window[_0x2b39af(0x1fd)]-_0x4a1cae['offsetWidth'],_0x26736b=window[_0x2b39af(0x182)]-_0x4a1cae[_0x2b39af(0x1e0)];_0x4a1cae['style'][_0x2b39af(0x215)]=Math[_0x2b39af(0x1fa)](Math[_0x2b39af(0x17b)](0x0,_0x572aff),_0x5b3dfd)+'px',_0x4a1cae[_0x2b39af(0x211)][_0x2b39af(0x1c9)]=Math[_0x2b39af(0x1fa)](Math[_0x2b39af(0x17b)](0x0,_0xaddf15),_0x26736b)+'px';}}),document[_0x2c0751(0x21a)](_0x2c0751(0x184),()=>{_0x3de912=![];}),_0x50002a[_0x2c0751(0x21a)]('click',_0x20052e=>{const _0x51e480=_0x2c0751;_0x20052e[_0x51e480(0x1b3)](),_0x20052e[_0x51e480(0x1d2)](),!_0x3de912&&showGradientColorDialog();}),_0x124b91[_0x2c0751(0x21a)](_0x2c0751(0x191),_0x1b1541=>{const _0x2a712b=_0x2c0751;_0x1b1541[_0x2a712b(0x1b3)](),_0x1b1541[_0x2a712b(0x1d2)](),!_0x3de912&&removeGradientFromAllNodes();});if(document[_0x2c0751(0x192)]===_0x2c0751(0x1f4))document[_0x2c0751(0x21a)](_0x2c0751(0x199),()=>{const _0x2fd72c=_0x2c0751,_0xfd48b8=document[_0x2fd72c(0x1d0)](_0x2fd72c(0x1b8));_0xfd48b8?_0xfd48b8[_0x2fd72c(0x1bd)][_0x2fd72c(0x19e)](_0x4a1cae):document[_0x2fd72c(0x17e)]['appendChild'](_0x4a1cae);});else{const _0x1b02af=document[_0x2c0751(0x1d0)](_0x2c0751(0x1b8));_0x1b02af?_0x1b02af[_0x2c0751(0x1bd)][_0x2c0751(0x19e)](_0x4a1cae):document[_0x2c0751(0x17e)]['appendChild'](_0x4a1cae);}}function showIntroductionWindow(){const _0x4f6f22=_0x2f7d,_0x1dfc03=document[_0x4f6f22(0x18d)](_0x4f6f22(0x1f0));_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x21c)]=_0x4f6f22(0x1a5),_0x1dfc03[_0x4f6f22(0x211)]['top']=_0x4f6f22(0x1db),_0x1dfc03['style'][_0x4f6f22(0x215)]='50%',_0x1dfc03[_0x4f6f22(0x211)]['transform']=_0x4f6f22(0x1bb),_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x1e5)]='rgba(30,\x2030,\x2030,\x200.95)',_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x195)]=_0x4f6f22(0x1ff),_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x19a)]=_0x4f6f22(0x1df),_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x1a3)]=_0x4f6f22(0x1ac),_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x17c)]=_0x4f6f22(0x1b4),_0x1dfc03[_0x4f6f22(0x211)]['zIndex']=_0x4f6f22(0x197),_0x1dfc03[_0x4f6f22(0x211)]['maxWidth']='400px',_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x1ed)]=_0x4f6f22(0x1aa),_0x1dfc03[_0x4f6f22(0x211)][_0x4f6f22(0x1a7)]=_0x4f6f22(0x190),_0x1dfc03['innerHTML']=_0x4f6f22(0x196),document['body'][_0x4f6f22(0x19e)](_0x1dfc03),document[_0x4f6f22(0x1d0)]('closeIntroWindow')[_0x4f6f22(0x21a)](_0x4f6f22(0x191),function(){const _0x27d3e7=_0x4f6f22;document[_0x27d3e7(0x17e)][_0x27d3e7(0x1d3)](_0x1dfc03);});}function applyGradientToAllNodes(){const _0x4a57b6=_0x2f7d;try{app[_0x4a57b6(0x20b)]&&app[_0x4a57b6(0x20b)][_0x4a57b6(0x1ef)]&&(app[_0x4a57b6(0x20b)][_0x4a57b6(0x1ef)][_0x4a57b6(0x17a)](_0x26ec0b=>{const _0x2b33a7=_0x4a57b6;_0x26ec0b&&(!_0x26ec0b[_0x2b33a7(0x1fe)]&&(_0x26ec0b[_0x2b33a7(0x1fe)]=[_0x2b33a7(0x204),_0x2b33a7(0x19b),_0x2b33a7(0x202)],_0x26ec0b[_0x2b33a7(0x1a3)]=0x14,_0x26ec0b['fontColor']='#ffffff',_0x26ec0b[_0x2b33a7(0x194)]=0xe));}),app[_0x4a57b6(0x20b)][_0x4a57b6(0x20a)](!![],!![]));}catch(_0x5b1f73){console[_0x4a57b6(0x18b)](_0x4a57b6(0x186),_0x5b1f73);}}function _0x233b(){const _0x878cc=['to\x20top\x20left','restore','addEventListener','LGraphCanvas\x20not\x20found','position','forEach','max','boxShadow','font','body','1000','random','#colorCount','innerHeight','maxHeight','mouseup','padStart','Error\x20applying\x20gradient\x20to\x20all\x20nodes:','Comfy.GradientNodeColor','2321928fZyaKt','Error\x20saving\x20gradient\x20settings:','Error\x20in\x20gradient\x20drawing:','warn','slice','createElement','registerExtension','Error\x20in\x20extension\x20setup:','Arial,\x20sans-serif','click','readyState','length','fontSize','color','\x0a\x20\x20\x20\x20<h2\x20style=\x22text-align:\x20center;\x20color:\x20#4CAF50;\x20margin-top:\x200;\x22>欢迎使用由悟空打造的炫酷插件\x20</h2>\x0a\x20\x20\x20\x20<p>这个插件是由<strong>抖音大师兄（AIGC）</strong>创建的，让你在构建工作流的时候可以不那么无聊了，不再是一个单调的灰色主题。</p>\x0a\x20\x20\x20\x20<p>我们提供以下服务：</p>\x0a\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20<li>ComfyUI工作流定制</li>\x0a\x20\x20\x20\x20\x20\x20<li>工作流出售</li>\x0a\x20\x20\x20\x20\x20\x20<li>ComfyUI课程</li>\x0a\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20<p>有需求请联系微信：<strong>xiutuxiaoliu</strong></p>\x0a\x20\x20\x20\x20<button\x20id=\x22closeIntroWindow\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20margin:\x204px\x202px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20bottom:\x2010px;\x0a\x20\x20\x20\x20\x22>关闭</button>\x0a\x20\x20','10000','log','DOMContentLoaded','padding','#2196F3','Missing\x20required\x20parameters\x20in\x20drawNodeShape','createLinearGradient','appendChild','beginPath','#fontSizeValue','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22color\x22\x20id=\x22color','innerHTML','borderRadius','floor','fixed','querySelector','fontFamily','input','change','90%','querySelectorAll','10px','mousemove','gradient-palette-button\x20remove-button','translate','\x22\x20value=\x22','\x0a\x20\x20\x20\x20.gradient-buttons-container\x20{\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20top:\x2060px;\x0a\x20\x20\x20\x20\x20\x20left:\x2060px;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20z-index:\x20999;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.gradient-palette-button\x20{\x0a\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20background:\x20#2d2d2d;\x0a\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#666;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20move;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,0,0,0.3);\x0a\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.1s;\x0a\x20\x20\x20\x20\x20\x20user-select:\x20none;\x0a\x20\x20\x20\x20\x20\x20pointer-events:\x20auto;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.gradient-palette-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20transform:\x20scale(1.1);\x0a\x20\x20\x20\x20\x20\x20border-color:\x20#888;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.remove-button\x20{\x0a\x20\x20\x20\x20\x20\x20background:\x20#3d2d2d;\x0a\x20\x20\x20\x20\x20\x20border-color:\x20#866;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.remove-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20border-color:\x20#c88;\x0a\x20\x20\x20\x20}\x0a\x20\x20','auto','preventDefault','0\x204px\x206px\x20rgba(0,\x200,\x200,\x200.3)','textContent','2645778xVFlSU','input[type=color]','graph-canvas','#90ffe0','clientY','translate(-50%,\x20-50%)','#borderRadiusValue','parentElement','bold\x20','Error\x20applying\x20gradient\x20to\x20node:','fillText','number','512778nnlAmN','offsetTop','offsetLeft','to\x20bottom\x20right','\x22>颜色\x20','Error\x20registering\x20extension:','to\x20bottom\x20left','top','rect','zIndex','LiteGraph','7pqBlSw','toString','prototype','getElementById','head','stopPropagation','removeChild','strokeStyle','value','fill','closePath','className','80vh','call','50%','color-input','function','#1e1e1e','20px','offsetHeight','5695156xMPFDZ','13100949xxaICU','Error\x20loading\x20gradient\x20settings:','mousedown','background','#colorCountValue','to\x20left','gradient-buttons-container','1286039yEeMHb','Error\x20in\x20delayed\x20setup:','#borderRadius','gradient-palette-button','width','title','nodes','div','\x22>\x0a\x20\x20\x20\x20\x20\x20','fillStyle','map','loading','clientX','textAlign','string','error','isArray','min','LGraphCanvas','5VdJxCH','innerWidth','gradientColors','white','globalGradientNodeSettings','stroke','to\x20right','#ffffff','#4CAF50','extra','\x0a\x20\x20\x20\x20.gradient-settings\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20gap:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.setting-group\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.color-inputs\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20grid;\x0a\x20\x20\x20\x20\x20\x20grid-template-columns:\x20repeat(auto-fit,\x20minmax(60px,\x201fr));\x0a\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.color-input\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.color-input\x20label\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x204px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.slider-container\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.slider-container\x20span\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20color:\x20#aaa;\x0a\x20\x20\x20\x20\x20\x20min-width:\x2020px;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20input[type=\x22range\x22]\x20{\x0a\x20\x20\x20\x20\x20\x20flex-grow:\x201;\x0a\x20\x20\x20\x20\x20\x20background:\x20#333;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20select,\x20input[type=\x22color\x22]\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20padding:\x205px;\x0a\x20\x20\x20\x20\x20\x20margin-top:\x202px;\x0a\x20\x20\x20\x20\x20\x20background:\x20#333;\x0a\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#555;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20margin:\x2020px\x20auto\x200;\x0a\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20margin-top:\x200;\x0a\x20\x20\x20\x20\x20\x20margin-bottom:\x2020px;\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20color:\x20#fff;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.value-display\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20color:\x20#aaa;\x0a\x20\x20\x20\x20}\x0a\x20\x20','arc','fontColor','save','setDirtyCanvas','graph','设置\x20Comfy.GradientNodeColor\x20扩展','2660265UTMTyw','#fontColor','Error\x20applying\x20gradient\x20settings\x20to\x20all\x20nodes:','to\x20top','style','NODE_TITLE_HEIGHT','lineTo','Error\x20updating\x20node\x20gradient:','left','Original\x20drawNodeShape\x20method\x20not\x20found','drawNodeShape'];_0x233b=function(){return _0x878cc;};return _0x233b();}const ext={'name':_0x230453(0x187),async 'setup'(){const _0xda68c9=_0x230453;try{console[_0xda68c9(0x198)](_0xda68c9(0x20c)),await new Promise(_0x4006b5=>{const _0x280a44=()=>{const _0x522d3c=_0x2f7d;window[_0x522d3c(0x1cc)]&&window['LGraphCanvas']?_0x4006b5():setTimeout(_0x280a44,0x64);};_0x280a44();}),addGradientColorOption(),await new Promise(_0x2c200f=>{const _0x3fd8cd=()=>{const _0x219e0c=_0x2f7d;app[_0x219e0c(0x20b)]?_0x2c200f():setTimeout(_0x3fd8cd,0x64);};_0x3fd8cd();}),setTimeout(()=>{const _0x24080c=_0xda68c9;try{addDraggableButton(),showIntroductionWindow(),applyGradientToAllNodes();}catch(_0x38170c){console[_0x24080c(0x18b)](_0x24080c(0x1ea),_0x38170c);}},0x3e8);}catch(_0x4d9906){console['error'](_0xda68c9(0x18f),_0x4d9906);}}};try{app[_0x230453(0x18e)](ext);}catch(_0x268184){console['error'](_0x230453(0x1c7),_0x268184);}
